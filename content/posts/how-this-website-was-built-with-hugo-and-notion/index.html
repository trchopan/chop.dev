+++
title = "How this website was built with Hugo and Notion"
author = ["Chop Tr (chop.ink)"]
description = "Continue on my last note building this website. I've move the process of editing my website to Notion."
date = 2022-10-10T00:00:00+07:00
tags = ["devlog", "howto", "build", "website"]
cover = "/posts/how-this-website-was-built-with-hugo-and-notion/cover.jpg"
+++
<html><head></head><body><h1 id="why-i-stop-using-emacs-"><strong>Why I stop using Emacs?</strong></h1>
<p>Editing on <span style="color: #E03E3E;">Emacs</span> was fun. Yeah, really fun using the <span style="color: #E03E3E;">Org mode</span>. And Org Roam and other things. You can check out my last post about how I built this website here.</p>
<p><a href="https://chop.ink/posts/how-this-website-was-built/" target="_blank">https://chop.ink/posts/how-this-website-was-built/</a></p>
<p>In that post, I went through all the features that I had for this Website. Include my work flow to convert them from <span style="color: #E03E3E;">Org file</span> to <span style="color: #E03E3E;">Markdown</span>. And how I use <span style="color: #E03E3E;">Hugo</span> to render all my posts to static and host it on <span style="color: #E03E3E;">Firebase</span>.</p>
<p>Thing is I have to go back to NeoVim because working with the Emacs system was not a good experience for me.</p>
<h2 id="doom-emacs-and-lisp">Doom Emacs and Lisp</h2>
<p>To explain my situation clearer, I use<a href="https://chop.ink/posts/doom.d/config/" target="_blank"> </a><span style="color: #E03E3E;"><a href="https://chop.ink/posts/doom.d/config/" target="_blank">Doom Emacs</a></span>, a pre-config Emacs distribution and framework. So setting up everything was easy, but easy things come with side effects: You don’t know the system well enough. Learning to config it was a bit confusing and hard, and it took a long time to research. Because it was pre-built, and there are many things that can go wrong or break. I don’t know where to start when I see a small thing that I’d like to customize.</p>
<p>I know this point also applies to anyone who is new when trying their hands on a similar editor like Vim but I have another problem. Which is the Lisp language.</p>
<p>Emacs' language is <span style="color: #E03E3E;">Lisp</span>. It does not help with that at all. It’s a language that I would need some time to digest. I mean with all the parentheses and functional programming. Even though I am very familiar with Haskell, Lisp is just another world.</p>
<p>Saying that, I had a working environment for coding and editing working well on Emacs. So I had been using Emacs really fine for the last 8 or 9 months.</p>
<p>But the experience was not so comfortable. During that time, I had a lot of quirky stuff that I would like to customize to my own liking but was unable to :(</p>
<h2 id="neovim">Neovim</h2>
<p>So for the real comfortable environment, I have to switch to <span style="color: #E03E3E;">Vim</span>. I've been using good old Vim - not the new hip Neovim but the good old Vim version 7 - for a long time before I switched to Emacs, so … You know, after Emacs, <span style="color: #E03E3E;">NeoVim</span> was just the obvious choice.</p>
<p>In NeoVim, I got my hands on <span style="color: #E03E3E;">Lua language</span>. It was much better than Lisp. And everything went smoothly. The structure of the plugins is great. The customization is great. The plugins are really well maintained. I have such a great time being back in this environment.</p>

<figure class="image center">
<img src="/posts/how-this-website-was-built-with-hugo-and-notion/no-emacs-yes-neovim.jpg" alt="No Emacs, Yes Neovim" style="max-width: 500px; width: 100%;">
<figcaption>No Emacs, Yes Neovim</figcaption>
</figure>
    
<p>Note: This is not about hating Emacs. It was a great tool, I love Dired, I loved Projectile, I loved Magit, and all great Emacs plugins. I’m sure many people are familiar with it, and can customize it exactly the way they want. It just doesn't work for me. Because for me, it would take much more time to learn and adapt.</p>
<h2 id="the-switch">The switch</h2>
<p>Since “the switch back to vim”, I’ve moved most of my programming tools and habits to Vim. But one thing that keeps me using Emacs is the project that manages my personal website. I normally edit my posts using Org mode and export them to Markdown so Hugo can build it.</p>
<p>If I make the switch meaning no longer use Emacs. This would need to be converted too. So I decided to investigate a way that I can edit and maintain my blog posts. And somehow pull the content as HTML.</p>
<h2 id="notion">Notion</h2>

<figure class="image center">
<img src="/posts/how-this-website-was-built-with-hugo-and-notion/notion-logo.jpg" alt="Notion logo" style="max-width: 250px; width: 100%;">
<figcaption>Notion logo</figcaption>
</figure>
    
<p>I built up some habits when I lived with Emacs for the last half year. It’s Org mode and Org Roam. I have all my notes kept in Org files, linked together. Like an interconnected mesh of information. If you know the term <strong>second brain</strong>, I have something like that in my Org folder.</p>
<p>So last week, I decided to use Notion to replace these habits and note taking. The switch was smooth. Notion has the back-linking feature that fills my requirement for an inter-linked note.</p>
<p>They also have useful features like Custom View, Database Table, Editable Properties, etc. Things were better than I expected.</p>
<p>The Notion API is also straightforward and easy to understand. For now Notion works for me and I’m happy using it.</p>
<h1 id="how-">How?</h1>
<p>Luckily, I found a tool to do that job:</p>
<p><a href="https://github.com/asnunes/notion-page-to-html" target="_blank">https://github.com/asnunes/notion-page-to-html</a></p>
<p>This is written in Typescript and can convert any public Notion Page into html. Then I use some script to further process the html into more suitable components for my Hugo setup to produce a nice blog entry.</p>
<p>In fact, this article's content is from my Notion page. You can visit the page here.</p>
<p><a href="https://www.notion.so/choptran/How-this-website-was-built-with-from-Notion-9b8d4f433884440aaebd3b78778efcf8" target="_blank">https://www.notion.so/choptran/How-this-website-was-built-with-from-Notion-9b8d4f433884440aaebd3b78778efcf8</a></p>
<p>Scripting the tool for me was easy. Not much to explain.</p>
<p>It is just a CLI to get the URL for the Notion Page and export the post the the desired path.</p>
<p>Then go through the HTML output from the <code>notion-page-to-html</code> and with each component like Image, Headers, Youtube, etc. I make some small changes accordingly.</p>

<figure class="image center">
<img src="/posts/how-this-website-was-built-with-hugo-and-notion/2.jpg" alt="" style="max-width: 800px; width: 100%;">

</figure>
    
<h1 id="afterthought">Afterthought</h1>
<p>Using this approach feels better than my previous setup. I can use tools to check spelling and correct my grammar when editing. Compared to before, the Emacs situation does not have these correction tools and I had to use my own level of English which is not so good to be honest.</p>
<p>(Note here that I know that Emacs can be configured to have these tools but I give up after some tries to set them up).</p>
<p>About the <code>notion-page-to-html</code>. Features like Table and Bookmarked Embed are not yet supported. But it is new and in active development so I hope they will have them in the future.</p>
<p>There is a bug that formats the code block for 4 spaces indent. It produces the wrong formatting for these languages.</p>
<p>Many languages indent with 4 spaces are affected by this, like Python, Rust, etc. I have dig into the code and provided a fix for this bug. Hopefully it will be merged soon into the main repository. For now I’m using my own fork.</p>
<p>One more thing that I’m not comfortable with right now is the <code>Front Matter</code> information that I need for each post, like the publish Date, Description, Tags, etc. Right now I’m implementing a hacky way to pull this data. By putting it in a code block identified by a specific header.</p>
<p><br>In the future, I would like to have information native to Notion to be pulled by the API. It will be a much better workflow. Something like this</p>

<figure class="image center">
<img src="/posts/how-this-website-was-built-with-hugo-and-notion/notion-properties-for-hugo-s-front-matter.jpg" alt="Notion properties for Hugo’s Front matter" style="max-width: 500px; width: 100%;">
<figcaption>Notion properties for Hugo’s Front matter</figcaption>
</figure>
    
<p>With this the information is structured and typed correctly. For example like Date type for Publish Date and boolean for Draft condition.</p>
<p>I think I will spend some time with the <code>notion-page-to-html</code> code to implement it and make another PR.</p>
<h1 id="conclusion">Conclusion</h1>
<p>Well. This post is long enough, my new writing environment will be this combination of Notion and Hugo for now. Hope it will give me more motivation to write and produce more content and updates.</p>
<p>Bye.</p></body></html>